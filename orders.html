<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Healing Cross</title>
        <style>
            .orders-container {
            width: 800px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            padding: 25px;
            margin: 5px auto;
            position: relative;
        }
        
        h2 {
            text-align: center;
            color: #3a7bd5;
            margin-bottom: 20px;
        }
        
        .filters {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-group {
            flex: 1;
            min-width: 150px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            font-size: 14px;
        }
        
        select, input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #3a7bd5;
            color: white;
            position: sticky;
            top: 0;
            cursor: pointer;
        }
        
        th:hover {
            background-color: #2c5fb3;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        tr:hover {
            background-color: #f0f6ff;
        }
        
        .total {
            font-weight: bold;
            text-align: right;
            margin-top: 15px;
        }
        
        .no-orders {
            text-align: center;
            color: #666;
            padding: 20px;
        }
            .sidebar {
            width: 100px;
            height: 100vh;
            position: fixed;
            top: 0;
            padding: 20px;
            background: #f0f0f0;
            border-right: 1px solid #ddd;
            overflow-y: auto;
            z-index: 1;
        }
        
        .sidebar-left {
            left: 0;
            background: #D7D2CB;
background: linear-gradient(90deg,rgba(215, 210, 203, 1) 0%, rgba(94, 98, 128, 1) 100%);
        }
                .btn34 {
            background-color: #3a7bd5;
            color: white;
            border: none;
            padding: 12px;
            width: 100%;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 15px;
        }
        
        button:hover {
            background-color: #2c5fb3;
        }
        
        .sidebar-right {
            right: 0;
            border-left: 1px solid #ddd;
            border-right: none;
            background: #D7D2CB;
background: linear-gradient(-90deg,rgba(215, 210, 203, 1) 0%, rgba(94, 98, 128, 1) 100%);
        }
        </style>
        <link rel="stylesheet" href="css/main.css">
        <link rel="page" href="Page.js">
    </head>
    <body>
        
        <aside class="sidebar sidebar-left">
        
    </aside>
        <div id="page-wrapper">
    
</div>


<script src="js/transitions.js" defer></script>
    <div class="wrapper">

        <header class="container">
            <span class="logo">Просмотр заказов</span>
            <nav>
                <ul>
                    
                    <li><a href="index.html">Главное меню</a></li>
                    <li><a href="aboutDOC.html">Склад</a></li>
                    <li><a href="PortDOC.html">Услуги</a></li>
                    
                    
                </ul>
            </nav>
        </header>
        <div class="hero container">
            <div class="hero--info">
                <h2>Лечебный крест</h2>
                <h1>Добро пожаловать наш сайт</h1>
                <p>Мы создали единую базу нашей компании для вашего удобства.
                </p>
                <button class="btn34">Получить больше информации</button>
            </div>
            <img src="img/Snk.svg" alt="">
        </div>
    </div>
         <aside class="sidebar sidebar-right">
       
    </aside>
    
        
       <body>
    <div class="orders-container">
        <h2>Все заказы</h2>
        
        <div class="filters">
            <div class="filter-group">
                <label for="filterMedicine">Лекарство:</label>
                <select id="filterMedicine">
                    <option value="">Все</option>
                    <option value="Амоксициллин">Амоксициллин</option>
                    <option value="Нурофен">Нурофен</option>
                    <option value="Парацетамол">Парацетамол</option>
                    <option value="Лоратадин">Лоратадин</option>
                    <option value="Смекта">Смекта</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="filterName">ФИО:</label>
                <input type="text" id="filterName" placeholder="Поиск по ФИО">
            </div>
            
            <div class="filter-group">
                <label for="sortBy">Сортировка:</label>
                <select id="sortBy">
                    <option value="dateDesc">Дата (новые сначала)</option>
                    <option value="dateAsc">Дата (старые сначала)</option>
                    <option value="nameAsc">ФИО (А-Я)</option>
                    <option value="nameDesc">ФИО (Я-А)</option>
                    <option value="priceAsc">Цена (дешевле)</option>
                    <option value="priceDesc">Цена (дороже)</option>
                </select>
            </div>
        </div>
        
        <table id="ordersTable">
            <thead>
                <tr>
                    <th data-sort="id">№ заказа</th>
                    <th data-sort="medicine">Лекарство</th>
                    <th data-sort="name">ФИО</th>
                    <th data-sort="phone">Телефон</th>
                    <th data-sort="quantity">Кол-во</th>
                    <th data-sort="price">Цена</th>
                    <th data-sort="total">Сумма</th>
                    <th data-sort="date">Дата</th>
                </tr>
            </thead>
            <tbody id="ordersBody">
                
            </tbody>
        </table>
        
        <div class="total" id="totalAmount">Общая сумма: 0 ₽</div>
        
        <div class="no-orders" id="noOrders">Нет доступных заказов</div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const ordersBody = document.getElementById('ordersBody');
            const noOrdersMsg = document.getElementById('noOrders');
            const totalAmount = document.getElementById('totalAmount');
            const filterMedicine = document.getElementById('filterMedicine');
            const filterName = document.getElementById('filterName');
            const sortBy = document.getElementById('sortBy');
            
            let allOrders = [];
            
         
            function loadOrders() {
                const orders = JSON.parse(localStorage.getItem('orders')) || [];
                allOrders = orders;
                applyFilters();
            }
            
            function applyFilters() {
                let filtered = [...allOrders];
                
                if (filterMedicine.value) {
                    filtered = filtered.filter(order => order.medicine === filterMedicine.value);
                }
                
                if (filterName.value) {
                    const searchTerm = filterName.value.toLowerCase();
                    filtered = filtered.filter(order => 
                        order.name.toLowerCase().includes(searchTerm));
                }
           
                switch (sortBy.value) {
                    case 'dateDesc':
                        filtered.sort((a, b) => new Date(b.date) - new Date(a.date));
                        break;
                    case 'dateAsc':
                        filtered.sort((a, b) => new Date(a.date) - new Date(b.date));
                        break;
                    case 'nameAsc':
                        filtered.sort((a, b) => a.name.localeCompare(b.name));
                        break;
                    case 'nameDesc':
                        filtered.sort((a, b) => b.name.localeCompare(a.name));
                        break;
                    case 'priceAsc':
                        filtered.sort((a, b) => a.price - b.price);
                        break;
                    case 'priceDesc':
                        filtered.sort((a, b) => b.price - a.price);
                        break;
                }
                
                renderOrders(filtered);
            }
            
        
            function renderOrders(orders) {
                ordersBody.innerHTML = '';
                
                if (orders.length === 0) {
                    noOrdersMsg.style.display = 'block';
                    totalAmount.textContent = 'Общая сумма: 0 ₽';
                    return;
                }
                
                noOrdersMsg.style.display = 'none';
                
                let total = 0;
                
                orders.forEach(order => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${order.id}</td>
                        <td>${order.medicine}</td>
                        <td>${order.name}</td>
                        <td>${order.phone}</td>
                        <td>${order.quantity}</td>
                        <td>${order.price} ₽</td>
                        <td>${order.total} ₽</td>
                        <td>${order.date}</td>
                    `;
                    ordersBody.appendChild(row);
                    total += order.total;
                });
                
                totalAmount.textContent = `Общая сумма: ${total} ₽`;
            }
            
        
            document.querySelectorAll('th[data-sort]').forEach(th => {
                th.addEventListener('click', function() {
                    const sortField = this.getAttribute('data-sort');
                    sortBy.value = sortField.includes('date') ? 'dateDesc' : 
                                  sortField.includes('name') ? 'nameAsc' : 
                                  sortField.includes('price') ? 'priceAsc' : 'id';
                    applyFilters();
                });
            });
            
     
            filterMedicine.addEventListener('change', applyFilters);
            filterName.addEventListener('input', applyFilters);
            sortBy.addEventListener('change', applyFilters);
            
          
            loadOrders();
        });
    </script>
</body>
</body>
</html>